<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>RUDEN POS</title>
    <link rel="stylesheet" href="./styles/global.css">
    <link rel="stylesheet" href="./styles/style.css">
  </head>
  <body class="page">
    <header class="header">
        <div class="header__description">
            <a href="./index.html" class="logo-link">
                <img src="./images/logo.svg" alt="" class="logo-img">
            </a>
            <h1 class="header__page-name">Заказ</h1>
        </div>
        <nav class="header__navigation">
            <ul class="header__menu">
                <li class="header__menu-list">
                    <a href="#" class="header__menu-link">Выход</a>
                </li>
                <li class="header__menu-list">
                    <a href="#" class="header__menu-link">00:00 ПН</a>
                </li>
                <li class="header__menu-list">
                    <a href="./index.html" class="header__menu-link">
                        <img src="./images/HOME.svg" alt="" class="header__menu-list-img">
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main class="main main-order">
        <section class="section menu-section">
            <nav class="menu-navigation">
                <ul class="menu-list">
                    <li class="menu-list-item"><button class="menu-list-item-btn">Бургеры</button></li>
                    <li class="menu-list-item"><button class="menu-list-item-btn">Салаты</button></li>
                    <li class="menu-list-item"><button class="menu-list-item-btn">Закуски</button></li>
                    <li class="menu-list-item"><button class="menu-list-item-btn">Напитки</button></li>
                </ul>
            </nav>
            <div class="section__cards">
                <article class="menu-card">1</article>
                <article class="menu-card">2</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
                <article class="menu-card">3</article>
            </div>
        </section>

        <section class="section order-section">
            <span class="null-order">Добавьте товары</span>
        </section>
    </main>
    
    <script>
        async function loadMenu() {
            const menu = await window.api.getMenu();
            const section = document.querySelector('.section__cards');
            section.innerHTML = menu.map(item => `
                <article class="menu-card">
                    <h3>${item.name}</h3>
                    <p>${item.price}₽</p>
                    <button onclick="addToOrder(${item.id}, '${item.name}', ${item.price})">Добавить</button>
                </article>
            `).join('');
        }
    
        function addToOrder(id, name, price) {
            const orderSection = document.querySelector('.order-section');
            orderSection.innerHTML += `
                <div class="order-item">${name} - ${price}₽</div>
            `;
        }
    
        loadMenu();
    </script>
    
  </body>
</html>